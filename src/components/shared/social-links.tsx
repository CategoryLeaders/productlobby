'use client';

interface SocialLinksProps {
  twitterHandle?: string | null;
  instagramHandle?: string | null;
  tiktokHandle?: string | null;
  linkedinHandle?: string | null;
  className?: string;
  size?: 'sm' | 'md' | 'lg';
}

const sizeMap = {
  sm: 'w-5 h-5',
  md: 'w-6 h-6',
  lg: 'w-8 h-8',
};

const SocialLink = ({
  href,
  icon,
  label,
  platformColor,
  size,
}: {
  href: string;
  icon: React.ReactNode;
  label: string;
  platformColor: string;
  size: string;
}) => (
  <a
    href={href}
    target="_blank"
    rel="noopener noreferrer"
    aria-label={label}
    className={`text-gray-500 hover:${platformColor} transition-colors duration-200`}
  >
    <svg
      className={size}
      fill="currentColor"
      viewBox="0 0 24 24"
      xmlns="http://www.w3.org/2000/svg"
    >
      {icon}
    </svg>
  </a>
);

export function SocialLinks({
  twitterHandle,
  instagramHandle,
  tiktokHandle,
  linkedinHandle,
  className = '',
  size = 'md',
}: SocialLinksProps) {
  const hasAnyHandle =
    twitterHandle || instagramHandle || tiktokHandle || linkedinHandle;

  if (!hasAnyHandle) {
    return null;
  }

  const sizeClass = sizeMap[size];
  const links = [];

  if (twitterHandle) {
    links.push(
      <SocialLink
        key="twitter"
        href={`https://x.com/${twitterHandle}`}
        icon={
          <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24h-6.514l-5.106-6.694-5.857 6.694H2.42l7.728-8.835L1.497 2.25h6.886l4.62 6.11 5.511-6.11zM16.772 20.655h1.828L5.283 4.288H3.366l13.406 16.367z" />
        }
        label="Twitter"
        platformColor="hover:text-blue-400"
        size={sizeClass}
      />
    );
  }

  if (instagramHandle) {
    links.push(
      <SocialLink
        key="instagram"
        href={`https://instagram.com/${instagramHandle}`}
        icon={
          <path d="M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm0 21.818C6.579 21.818 2.182 17.421 2.182 12S6.579 2.182 12 2.182 21.818 6.579 21.818 12 17.421 21.818 12 21.818zm3.891-11.818c0-2.145-1.746-3.891-3.891-3.891s-3.891 1.746-3.891 3.891 1.746 3.891 3.891 3.891 3.891-1.746 3.891-3.891zm1.455 0c0 2.964-2.382 5.345-5.345 5.345s-5.345-2.382-5.345-5.345 2.382-5.345 5.345-5.345 5.345 2.382 5.345 5.345zm1.818-5.527c0 .669-.545 1.214-1.214 1.214s-1.214-.545-1.214-1.214.545-1.214 1.214-1.214 1.214.545 1.214 1.214z" />
        }
        label="Instagram"
        platformColor="hover:text-pink-500"
        size={sizeClass}
      />
    );
  }

  if (tiktokHandle) {
    links.push(
      <SocialLink
        key="tiktok"
        href={`https://tiktok.com/@${tiktokHandle}`}
        icon={
          <path d="M19.498 4.223V4.122c-.002.124-.003.249-.009.373-.022.499-.099 1.022-.241 1.526-.177.624-.39 1.182-.619 1.706-.233.546-.489 1.067-.791 1.557-.279.446-.618.833-1.022 1.164-.379.31-.834.526-1.334.656-.498.13-.993.159-1.485.088-.392-.055-.779-.154-1.158-.298.247.277.481.568.699.871.211.295.405.603.576.927.195.371.358.756.486 1.154.13.408.231.827.301 1.252.052.32.084.642.097.966.016.405.015.811-.003 1.216-.037.886-.147 1.768-.325 2.641-.161.797-.381 1.583-.654 2.352-.205.574-.463 1.126-.771 1.651-.326.566-.718 1.088-1.165 1.553-.46.476-.98.894-1.548 1.247-.581.364-1.21.658-1.867.871-.684.226-1.394.375-2.113.447-.631.062-1.263.047-1.89-.046-.658-.1-1.3-.28-1.917-.525-.6-.237-1.168-.547-1.691-.927-.517-.373-.986-.83-1.394-1.359-.413-.543-.76-1.145-1.037-1.788-.322-.761-.56-1.573-.712-2.395-.094-.504-.152-1.013-.173-1.523-.014-.342-.008-.684.018-1.026.054-.723.17-1.439.34-2.135.157-.631.379-1.238.653-1.812.211-.436.46-.843.74-1.223.262-.351.556-.67.871-.954-.178.096-.351.206-.519.329-.39.281-.746.619-1.063 1-.259.311-.495.648-.705 1.005-.266.464-.488.96-.664 1.471-.225.653-.393 1.329-.499 2.014-.074.479-.118.963-.132 1.447-.013.397.006.794.054 1.188.056.473.153.94.285 1.397.167.57.387 1.119.653 1.643.288.572.652 1.097 1.074 1.567.466.519 1.01.966 1.604 1.331.614.38 1.286.667 1.982.857.727.201 1.485.295 2.246.278.645-.015 1.284-.096 1.906-.242.589-.137 1.157-.343 1.694-.606.488-.238.943-.537 1.356-.883.45-.378.847-.819 1.189-1.302.364-.515.672-1.065.921-1.636.285-.664.502-1.364.648-2.075.163-.802.255-1.625.274-2.447.005-.247.001-.494-.013-.741-.031-.546-.1-1.089-.207-1.625-.114-.586-.276-1.158-.48-1.71-.208-.568-.47-1.107-.773-1.611-.334-.566-.743-1.071-1.201-1.515-.457-.441-.974-.8-1.535-1.077-.556-.273-1.159-.456-1.776-.54-.483-.065-.972-.044-1.454.06-.398.085-.78.223-1.14.407.281-.344.543-.71.783-1.094.216-.343.408-.703.573-1.076.191-.432.343-.888.454-1.357.119-.509.196-1.029.23-1.551.018-.29.018-.582.001-.873z" />
        }
        label="TikTok"
        platformColor="hover:text-black"
        size={sizeClass}
      />
    );
  }

  if (linkedinHandle) {
    links.push(
      <SocialLink
        key="linkedin"
        href={`https://linkedin.com/in/${linkedinHandle}`}
        icon={
          <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.475-2.236-1.986-2.236-1.081 0-1.722.722-2.004 1.418-.103.249-.129.597-.129.946v5.441h-3.554s.05-8.81 0-9.728h3.554v1.375c.428-.659 1.191-1.598 2.901-1.598 2.117 0 3.704 1.385 3.704 4.362v5.589zM5.337 8.855c-1.144 0-1.915-.758-1.915-1.706 0-.966.77-1.706 1.958-1.706 1.187 0 1.914.74 1.937 1.706 0 .948-.75 1.706-1.98 1.706zm1.582 11.597H3.635V9.724h3.284v10.728zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.225 0z" />
        }
        label="LinkedIn"
        platformColor="hover:text-blue-600"
        size={sizeClass}
      />
    );
  }

  return (
    <div className={`inline-flex gap-4 ${className}`}>
      {links}
    </div>
  );
}
